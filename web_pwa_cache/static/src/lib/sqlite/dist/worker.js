!function(){"use strict";const{assign:e}=Object,s="function"==typeof importScripts,t=t=>new Promise(((o,n)=>{const i=()=>{const e=self.module.exports;delete self.exports,self.module=void 0,o(e)};if(self.exports={},self.module={exports:exports},s)importScripts(t),i();else{const{head:s}=document;e(s.appendChild(document.createElement("script")),{onload(){s.removeChild(this),i()},onerror:n,src:t})}}));let o=null;addEventListener("message",(({data:{id:e,action:s,options:n}})=>{if("init"===s)o||(o=t(n.library).then((({init:e})=>e(n)))),o.then((()=>postMessage({id:e,result:"OK"})),(({message:s})=>postMessage({id:e,error:s})));else{const{template:t,values:i}=n;o.then((o=>{o[s].apply(null,[t].concat(i)).then((s=>{postMessage({id:e,result:s})}),(({message:s})=>{postMessage({id:e,error:s})}))}))}}))}();